### 组合模式(Composite Pattern)

组合模式(Composite Pattern)：又叫部分整体模式，是用于把一组相似的对象当作一个单一的对象。组合模式依据树形结构来组合对象，用来表示部分以及整体层次。它创建了对象组的树形结构。
例如：
- 文件夹和子文件夹的关系：文件夹中可以存放文件，也可以新建文件夹，子文件夹也一样。
- 总公司子公司的关系：总公司可以设立部门，也可以设立分公司，子公司也一样。
- 树枝和分树枝的关系：树枝可以长出叶子，也可以长出树枝，分树枝也一样。

组合模式的分类：
- 透明方式的组合模式：在 Component 中声明所有管理子对象的方法，包括 add 、remove 等，这样继承自 Component 的子类都具备了 add、remove 方法。对于外界来说叶节点和枝节点是透明的，它们具备完全一致的接口

- 安全方式的组合模式：在 Component 中不声明 add 和 remove 等管理子对象的方法，这样叶节点就无需实现它，只需在枝节点中实现管理子对象的方法即可

**优点**：

1. 你可以利用多态和递归机制更方便地使用复杂树结构
2. 开闭原则。 无需更改现有代码， 你就可以在应用中添加新元素， 使其成为对象树的一部分

透明方式：所有节点的接口都是一致的，对外部透明，客户端使用时不需要判断节点是否为叶子节点
安全方式：遵循接口隔离原则，程序更加安全

**缺点**: 

1. 对于功能差异较大的类， 提供公共接口或许会有困难

透明方式：叶子节点实现了冗余的 add remove 方法，违背了接口隔离原则，并且程序容易出错，不安全
安全方式：不够透明，在声明时，叶子节点和枝节点不能声明成统一的抽象类
